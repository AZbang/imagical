(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"feed",function(){return r}),n.d(e,"account",function(){return i});var o=n(213),c=n(214);"undefined"!==typeof __setCurrentModule__&&__setCurrentModule__(t);var r=new c.a,i=new o.a;"function"===typeof __shouldAccept__&&__shouldAccept__(t.__proto__.exports)&&t.hot.accept(function e(o){n.c[t.i].hot.accept(e)})}.call(this,n(15)(t))},104:function(t){t.exports=[{id:95775916,name:"wizard_blog"},{id:101240674,name:"These Magic Moments"},{id:42800749,name:"perf\u043e\u0301rmance"},{id:131390775,name:"Viktorov"}]},209:function(t,e,n){"use strict";(function(t){var e=n(17),o=n(18);function c(){var t=Object(e.a)(["\n  width: 100%;\n  min-height: 100vh;\n  position: relative;\n  background: #09091d;\n"]);return c=function(){return t},t}"undefined"!==typeof __setCurrentModule__&&__setCurrentModule__(t);o.a.div(c());"function"===typeof __shouldAccept__&&__shouldAccept__(t.__proto__.exports)&&t.hot.accept(function e(o){n.c[t.i].hot.accept(e)})}).call(this,n(15)(t))},210:function(t,e,n){"use strict";(function(t){var e=n(17),o=n(18);function c(){var t=Object(e.a)(["\n  height: 300px;\n"]);return c=function(){return t},t}"undefined"!==typeof __setCurrentModule__&&__setCurrentModule__(t);o.a.div(c());"function"===typeof __shouldAccept__&&__shouldAccept__(t.__proto__.exports)&&t.hot.accept(function e(o){n.c[t.i].hot.accept(e)})}).call(this,n(15)(t))},211:function(t,e,n){"use strict";(function(t){var o=n(0),c=n.n(o),r=n(222),i=n(223);"undefined"!==typeof __setCurrentModule__&&__setCurrentModule__(t);var a,u=function(t){var e=t.feed,n=t.loading,o=t.onFeedEnd;return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.a,{onScroll:function(t){var e=t.currentTarget;e.scrollHeight-e.scrollTop<2*e.clientHeight&&!n&&o&&o()},x:3},e.map(function(t,e){return c.a.createElement(i.a,{key:e,item:t})})))};a=u,u.defaultProps={feed:[]},e.a=u,__register__(a,"Feed"),"function"===typeof __shouldAccept__&&__shouldAccept__(t.__proto__.exports)&&t.hot.accept(function e(o){n.c[t.i].hot.accept(e)})}).call(this,n(15)(t))},212:function(t,e,n){"use strict";(function(t){var o=n(0),c=n.n(o),r=n(44),i=n(103),a=n(35),u=n(100),_=n(215),s=n(220);"undefined"!==typeof __setCurrentModule__&&__setCurrentModule__(t);var f,p=function(){return c.a.createElement(r.a,u,c.a.createElement(i.a,null,c.a.createElement(a.a,{exact:!0,path:"/",component:_.a}),c.a.createElement(a.a,{path:"/feed",component:s.a})))};f=p,e.a=p,__register__(f,"App"),"function"===typeof __shouldAccept__&&__shouldAccept__(t.__proto__.exports)&&t.hot.accept(function e(o){n.c[t.i].hot.accept(e)})}).call(this,n(15)(t))},213:function(t,e,n){"use strict";(function(t){var o,c,r,i=n(225),a=n(45),u=n.n(a),_=n(81),s=n(66),f=n(101),p=n(102),l=n(46),d=(n(208),n(5)),h=n(80);"undefined"!==typeof __setCurrentModule__&&__setCurrentModule__(t);var v=(o=function(){function t(){Object(f.a)(this,t),this.access="",Object(s.a)(this,"user",c,this),Object(s.a)(this,"ready",r,this)}return Object(p.a)(t,[{key:"init",value:function(){var t=Object(_.a)(u.a.mark(function t(){var e,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.send("VKWebAppGetAuthToken",{app_id:7045022,scope:""});case 2:e=t.sent,n=e.data,this.access=n.access_token,console.log(this);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"api",value:function(){var t=Object(_.a)(u.a.mark(function t(e,n){var o,c;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.send("VKWebAppCallAPIMethod",{method:e,params:Object(i.a)({},n,{v:"5.77",access_token:this.access})});case 2:return o=t.sent,c=o.data,t.abrupt("return",c.response.items);case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}]),t}(),c=Object(l.a)(o.prototype,"user",[d.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=Object(l.a)(o.prototype,"ready",[d.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(l.a)(o.prototype,"init",[d.d],Object.getOwnPropertyDescriptor(o.prototype,"init"),o.prototype),o);e.a=v,"function"===typeof __shouldAccept__&&__shouldAccept__(t.__proto__.exports)&&t.hot.accept(function e(o){n.c[t.i].hot.accept(e)})}).call(this,n(15)(t))},214:function(t,e,n){"use strict";(function(t){var o,c,r,i=n(45),a=n.n(i),u=n(81),_=n(66),s=n(101),f=n(102),p=n(46),l=(n(208),n(5)),d=n(104),h=n(100);"undefined"!==typeof __setCurrentModule__&&__setCurrentModule__(t);var v=(o=function(){function t(){Object(s.a)(this,t),this.offsets=new Map(d.map(function(t){return[t.id,0]})),Object(_.a)(this,"data",c,this),Object(_.a)(this,"loading",r,this),this.offset=0,this.count=99}return Object(f.a)(t,[{key:"setLoading",value:function(t){this.loading=t}},{key:"addPhotos",value:function(t){var e=t.sort(function(){return Math.random()-.5});this.data=this.data.concat(e)}},{key:"fetch",value:function(){var t=Object(u.a)(a.a.mark(function t(){var e,n,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setLoading(!0),e=d[Math.floor(Math.random()*d.length)].id,n=this.offsets.get(e)||0,t.next=5,h.account.api("photos.get",{owner_id:-e,album_id:"wall",count:this.count,offset:n,rev:0});case 5:o=t.sent,this.offsets.set(e,n+this.count),this.addPhotos(this.parsePhotos(o)),this.setLoading(!1);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getPhotoSize",value:function(t,e){return t.sizes.find(function(t){return t.type===e})||{url:null,width:null,height:null}}},{key:"parsePhotos",value:function(t){var e=this;return t.map(function(t){var n=e.getPhotoSize(t,"x"),o=n.url,c=n.width,r=n.height,i=e.getPhotoSize(t,"s").url;return{text:t.text,photo:o,cover:i,width:c,height:r}})}}]),t}(),c=Object(p.a)(o.prototype,"data",[l.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),r=Object(p.a)(o.prototype,"loading",[l.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(p.a)(o.prototype,"fetch",[l.d],Object.getOwnPropertyDescriptor(o.prototype,"fetch"),o.prototype),o);e.a=v,"function"===typeof __shouldAccept__&&__shouldAccept__(t.__proto__.exports)&&t.hot.accept(function e(o){n.c[t.i].hot.accept(e)})}).call(this,n(15)(t))},215:function(t,e,n){"use strict";(function(t){var o=n(17),c=n(0),r=n.n(c),i=n(18),a=n(103),u=n(44),_=__signature__();function s(){var t=Object(o.a)(["\n  padding: 0 10vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #673ab7;\n"]);return s=function(){return t},t}function f(){var t=Object(o.a)(["\n  text-align: center;\n  color: #fff;\n"]);return f=function(){return t},t}function p(){var t=Object(o.a)(["\n  margin-top: 10px;\n  display: block;\n  border-radius: 5px;\n  color: #fff;\n  text-decoration: none;\n  text-align: center;\n  padding: 20px;\n  font-weight: bold;\n  background: rgba(255, 255, 255, 0.2);\n\n  :hover {\n    background: rgba(255, 255, 255, 0.3);\n  }\n\n  :active {\n    background: rgba(255, 255, 255, 0.4);\n  }\n"]);return p=function(){return t},t}"undefined"!==typeof __setCurrentModule__&&__setCurrentModule__(t);var l,d,h,v,b=l=Object(i.a)(a.b)(p()),g=d=i.a.h1(f()),y=h=i.a.div(s()),m=function(t){_();var e=t.account;return Object(c.useEffect)(function(){e.init()},[]),r.a.createElement(y,null,r.a.createElement(g,null,"\u2728 imagical \u2728"),r.a.createElement(b,{to:"/feed"},"Go to Feed!"),r.a.createElement(b,{to:"/feed"},"Go to Saved!"))};_(m,"useEffect{}"),v=m,e.a=Object(u.b)("account")(Object(u.c)(m)),__register__(l,"ButtonLink"),__register__(d,"Header"),__register__(h,"Layout"),__register__(v,"Preview"),"function"===typeof __shouldAccept__&&__shouldAccept__(t.__proto__.exports)&&t.hot.accept(function e(o){n.c[t.i].hot.accept(e)})}).call(this,n(15)(t))},220:function(t,e,n){"use strict";(function(t){var o=n(0),c=n.n(o),r=n(44),i=n(221),a=__signature__();"undefined"!==typeof __setCurrentModule__&&__setCurrentModule__(t);var u,_=function(t){a();var e=t.feed;return Object(o.useEffect)(function(){e.fetch()},[]),c.a.createElement(i.a,{onFeedEnd:e.fetch.bind(e),loading:e.loading,feed:e.data})};a(_,"useEffect{}"),u=_,e.a=Object(r.b)("feed")(Object(r.c)(_)),__register__(u,"Main"),"function"===typeof __shouldAccept__&&__shouldAccept__(t.__proto__.exports)&&t.hot.accept(function e(o){n.c[t.i].hot.accept(e)})}).call(this,n(15)(t))},221:function(t,e,n){"use strict";(function(t){n(209),n(210);var o=n(211);n.d(e,"a",function(){return o.a}),"undefined"!==typeof __setCurrentModule__&&__setCurrentModule__(t),"function"===typeof __shouldAccept__&&__shouldAccept__(t.__proto__.exports)&&t.hot.accept(function e(o){n.c[t.i].hot.accept(e)})}).call(this,n(15)(t))},222:function(t,e,n){"use strict";(function(t){var o=n(17),c=n(18);function r(){var t=Object(o.a)(["\n  display: grid;\n  height: 100vh;\n  overflow-y: scroll;\n  grid-template-columns: ",";\n"]);return r=function(){return t},t}"undefined"!==typeof __setCurrentModule__&&__setCurrentModule__(t);var i=c.a.div(r(),function(t){var e=t.x;return"repeat(".concat(e,", 1fr)")});i.defaultProps={x:4},e.a=i,"function"===typeof __shouldAccept__&&__shouldAccept__(t.__proto__.exports)&&t.hot.accept(function e(o){n.c[t.i].hot.accept(e)})}).call(this,n(15)(t))},223:function(t,e,n){"use strict";(function(t){var o=n(17),c=n(0),r=n.n(c),i=n(18);function a(){var t=Object(o.a)(["\n  position: relative;\n  padding-bottom: 100%;\n  width: 100%;\n"]);return a=function(){return t},t}function u(){var t=Object(o.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: #09091d;\n  object-fit: cover;\n"]);return u=function(){return t},t}"undefined"!==typeof __setCurrentModule__&&__setCurrentModule__(t);var _,s,f,p=_=i.a.img(u()),l=s=i.a.div(a()),d=function(t){var e=t.item;return r.a.createElement(l,null,r.a.createElement(p,{src:e.photo||""}))};f=d,e.a=d,__register__(_,"Image"),__register__(s,"Wrap"),__register__(f,"Item"),"function"===typeof __shouldAccept__&&__shouldAccept__(t.__proto__.exports)&&t.hot.accept(function e(o){n.c[t.i].hot.accept(e)})}).call(this,n(15)(t))},224:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o}),"undefined"!==typeof __setCurrentModule__&&__setCurrentModule__(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}"function"===typeof __shouldAccept__&&__shouldAccept__(t.__proto__.exports)&&t.hot.accept(function e(o){n.c[t.i].hot.accept(e)})}).call(this,n(15)(t))},228:function(t,e,n){t.exports=n(229)},229:function(t,e,n){"use strict";n.r(e),function(t){var e=n(0),o=n.n(e),c=n(79),r=n.n(c),i=n(80),a=(n(452),n(212)),u=n(224);"undefined"!==typeof __setCurrentModule__&&__setCurrentModule__(t);var _=document.getElementById("root");r.a.render(o.a.createElement(a.a,null),_),u.a(),i.a.send("VKWebAppInit",{}),"function"===typeof __shouldAccept__&&__shouldAccept__(t.__proto__.exports)&&t.hot.accept(function e(o){n.c[t.i].hot.accept(e)})}.call(this,n(15)(t))},452:function(t,e,n){}},[[228,1,2]]]);
//# sourceMappingURL=main.a5ed5af1.chunk.js.map